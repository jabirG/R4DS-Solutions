{
  "hash": "cc7ee24f6b7f9975f89aef485e2d5173",
  "result": {
    "markdown": "---\ntitle: \"Communication\"\n---\n\n\n## Notes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(scales)\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0     ✔ purrr   1.0.1\n✔ tibble  3.1.8     ✔ dplyr   1.1.0\n✔ tidyr   1.3.0     ✔ stringr 1.5.0\n✔ readr   2.1.3     ✔ forcats 1.0.0\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ readr::col_factor() masks scales::col_factor()\n✖ purrr::discard()    masks scales::discard()\n✖ dplyr::filter()     masks stats::filter()\n✖ dplyr::lag()        masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(lubridate)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'lubridate'\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n```\n:::\n\n```{.r .cell-code}\npresidential |>\n  mutate(id = 33 + row_number()) |>\n  ggplot(aes(x = start, y = id, color = party)) +\n  geom_point() +\n  geom_segment(aes(xend = end, yend = id)) +\n  scale_color_manual(values = c(Republican = \"#E81B23\", Democratic = \"#00AEF3\")) +\n    scale_x_date(name = \"Term\", breaks = seq(from = ymd(\"1953-01-20\"), to = ymd(\"2021-01-20\"), by = \"4 years\"), date_labels = \"'%y\") +\nscale_y_continuous(\n  name = \"president\",\n  breaks = 34:45,\n  labels = presidential$name\n)\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\nis you want to change the legend point colors instead of everything use this\n\ni.e guide_legend and override.aes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(diamonds, aes(x = carat, y = price)) +\n  geom_point(aes(color = cut), alpha = 1/20) +\n    guides(color = guide_legend(override.aes = list(alpha = 1) ) )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nto manually pick the colors\n\n\n::: {.cell}\n\n```{.r .cell-code}\npresidential |>\n  mutate(id = 33 + row_number()) |>\n  ggplot(aes(x = start, y = id, color = party)) +\n  geom_point() +\n  geom_segment(aes(xend = end, yend = id)) +\n  scale_color_manual(values = c(Republican = \"#E81B23\", Democratic = \"#00AEF3\"))\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\ncrazy color change\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = drv))\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = drv)) +\n  scale_color_brewer(palette = \"Set1\")\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::\n\n\ntheme legend manipulation\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbase <- ggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = class))\n\nbase + theme(legend.position = \"right\") # the default\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nbase + theme(legend.position = \"left\")\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n\n```{.r .cell-code}\nbase + \n  theme(legend.position = \"top\") +\n  guides(col = guide_legend(nrow = 3))\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-5-3.png){width=672}\n:::\n\n```{.r .cell-code}\nbase + \n  theme(legend.position = \"bottom\") +\n  guides(col = guide_legend(nrow = 3))\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-5-4.png){width=672}\n:::\n:::\n\n\nfor percentage work\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(diamonds, aes(x = cut, fill = clarity)) +\n  geom_bar(position = \"fill\") +\n  scale_y_continuous(name = \"Percentage\", labels = label_percent())\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nthis code is for labeling money on x axis or could change this to y axis\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Left\nggplot(diamonds, aes(x = price, y = cut)) +\n  geom_boxplot(alpha = 0.05) +\n  scale_x_continuous(labels = label_dollar())\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Right\nggplot(diamonds, aes(x = price, y = cut)) +\n  geom_boxplot(alpha = 0.05) +\n  scale_x_continuous(\n    labels = label_dollar(scale = 1/1000, suffix = \"K\"), \n    breaks = seq(1000, 19000, by = 6000)\n  )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-7-2.png){width=672}\n:::\n:::\n\n\nthis line of code takes away y and x axis numbers and changes the names on the legend\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy, color = drv)) +\n  geom_point() +\n  scale_x_continuous(labels = NULL) +\n  scale_y_continuous(labels = NULL) +\n  scale_color_discrete(labels = c(\"4\" = \"4-wheel\", \"f\" = \"front\", \"r\" = \"rear\"))\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\ncustomizes the y axis numbers\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy, color = drv)) +\n  geom_point() +\n  scale_y_continuous(breaks = seq(15, 40, by = 5)) \n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nlabel a specific facet\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(alpha = 0.1) +\n  facet_wrap(~drv) +\n  geom_text(data = mpg |> filter(drv == \"f\"), aes(label = drv), nudge_x = 1)\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\ncreate a pointer in plot and explains annotate pretty well\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  annotate(\n    geom = \"label\", x = 3.5, y = 38,\n    label = \"Increasing engine size is \\nrelated to decreasing fuel economy.\",\n    hjust = \"left\", color = \"red\"\n  ) +\n  annotate(\n    geom = \"segment\",\n    x = 3, y = 35, xend = 5, yend = 25, color = \"red\",\n    arrow = arrow(type = \"closed\")\n  )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\nlabeling plots text\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlabel_info <- mpg |>\n  group_by(drv) |>\n  arrange(desc(displ)) |>\n  slice_head(n = 1) |>\n  mutate(\n    drive_type = case_when(\n      drv == \"f\" ~ \"front-wheel drive\",\n      drv == \"r\" ~ \"rear-wheel drive\",\n      drv == \"4\" ~ \"4-wheel drive\"\n    )\n  ) |>\n  select(displ, hwy, drv, drive_type)\n\nlabel_info\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 4\n# Groups:   drv [3]\n  displ   hwy drv   drive_type       \n  <dbl> <int> <chr> <chr>            \n1   6.5    17 4     4-wheel drive    \n2   5.3    25 f     front-wheel drive\n3   7      24 r     rear-wheel drive \n```\n:::\n\n```{.r .cell-code}\n#> # A tibble: 3 × 4\n#> # Groups:   drv [3]\n#>   displ   hwy drv   drive_type       \n#>   <dbl> <int> <chr> <chr>            \n#> 1   6.5    17 4     4-wheel drive    \n#> 2   5.3    25 f     front-wheel drive\n#> 3   7      24 r     rear-wheel drive\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy, color = drv)) +\n  geom_point(alpha = 0.3) +\n  geom_smooth(se = FALSE) +\n  geom_text(\n    data = label_info, \n    aes(x = displ, y = hwy, label = drive_type),\n    fontface = \"bold\", size = 5, hjust = \"right\", vjust = \"bottom\"\n  ) +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#> `geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n:::\n\n\nnudge and rectangle around label\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy, color = drv)) +\n  geom_point(alpha = 0.3) +\n  geom_smooth(se = FALSE) +\n  geom_label(\n    data = label_info, \n    aes(x = displ, y = hwy, label = drive_type),\n    fontface = \"bold\", size = 5, hjust = \"right\", alpha = 0.5, nudge_y = 2,\n  ) +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#> `geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n:::\n\n\ngeom_label_repel ggrepel package adjust labels for you\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggrepel)\nggplot(mpg, aes(x = displ, y = hwy, color = drv)) +\n  geom_point(alpha = 0.3) +\n  geom_smooth(se = FALSE) +\n  geom_label_repel(\n    data = label_info, \n    aes(x = displ, y = hwy, label = drive_type),\n    fontface = \"bold\", size = 5, nudge_y = 2,\n  ) +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#> `geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n:::\n\n\ngreat use of information\n\n\n::: {.cell}\n\n```{.r .cell-code}\npotential_outliers <- mpg |>\n  filter(hwy > 40 | (hwy > 20 & displ > 5))\n  \nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  geom_text_repel(data = potential_outliers, aes(label = model)) +\n  geom_point(data = potential_outliers, color = \"red\") +\n  geom_point(data = potential_outliers, color = \"red\", size = 3, shape = \"circle open\")\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\ni think you have to create a data frame everytime\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlabel_info <- mpg |>\n  summarize(\n    displ = max(displ),\n    hwy = max(hwy),\n    label = \"Increasing engine size is \\nrelated to decreasing fuel economy.\"\n  )\n\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  geom_text(\n    data = label_info, aes(label = label), \n    vjust = \"top\", hjust = \"right\"\n  )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n## Solutions\n\nprerequisites\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggrepel)\nlibrary(patchwork)\n```\n:::\n\n\n## Exercises 12.2.1\n\n1.  Create one plot on the fuel economy data with customized `title`, `subtitle`, `caption`, `x`, `y`, and `color` labels.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = class)) +\n  geom_smooth(se = FALSE) +\n  labs( title = \"insert title here\",\n        subtitle = \"insert subtitle here\",\n        caption = \"insert source here\",\n    x = \"Engine displacement (L)\",\n    y = \"Highway fuel economy (mpg)\",\n    color = \"Car type\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n2.Recreate the following plot using the fuel economy data. Note that both the colors and shapes of points vary by type of drive train\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(mpg)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 234\nColumns: 11\n$ manufacturer <chr> \"audi\", \"audi\", \"audi\", \"audi\", \"audi\", \"audi\", \"audi\", \"…\n$ model        <chr> \"a4\", \"a4\", \"a4\", \"a4\", \"a4\", \"a4\", \"a4\", \"a4 quattro\", \"…\n$ displ        <dbl> 1.8, 1.8, 2.0, 2.0, 2.8, 2.8, 3.1, 1.8, 1.8, 2.0, 2.0, 2.…\n$ year         <int> 1999, 1999, 2008, 2008, 1999, 1999, 2008, 1999, 1999, 200…\n$ cyl          <int> 4, 4, 4, 4, 6, 6, 6, 4, 4, 4, 4, 6, 6, 6, 6, 6, 6, 8, 8, …\n$ trans        <chr> \"auto(l5)\", \"manual(m5)\", \"manual(m6)\", \"auto(av)\", \"auto…\n$ drv          <chr> \"f\", \"f\", \"f\", \"f\", \"f\", \"f\", \"f\", \"4\", \"4\", \"4\", \"4\", \"4…\n$ cty          <int> 18, 21, 20, 21, 16, 18, 18, 18, 16, 20, 19, 15, 17, 17, 1…\n$ hwy          <int> 29, 29, 31, 30, 26, 26, 27, 26, 25, 28, 27, 25, 25, 25, 2…\n$ fl           <chr> \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p\", \"p…\n$ class        <chr> \"compact\", \"compact\", \"compact\", \"compact\", \"compact\", \"c…\n```\n:::\n\n```{.r .cell-code}\nmpg %>% ggplot(aes(x = cty,y = hwy,color = drv,shape = drv)) +\n  geom_point() +\n  labs(x = \"City MPG\",\n        y = \"Highway MPG\",\n        shape = \"Type of drive train\",\n       color = \"Type of drive train\"\n       )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n## Exercises 12.3.1\n\n1.Use [`geom_text()`](https://ggplot2.tidyverse.org/reference/geom_text.html) with infinite positions to place text at the four corners of the plot.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n annotate(geom = \"text\",\n          x = 7,y = 45, label = \"help\",\n          color = \"red\")\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n annotate(geom = \"text\",\n          x = 1,y = 45, label = \"help\",\n          color = \"red\")\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n annotate(geom = \"text\",\n          x = 1,y = 1, label = \"help\",\n          color = \"red\")\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n annotate(geom = \"text\",\n          x = 7,y = 1, label = \"help\",\n          color = \"red\")\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\n2.Use [`annotate()`](https://ggplot2.tidyverse.org/reference/annotate.html) to add a point geom in the middle of your last plot without having to create a tibble. Customize the shape, size, or color of the point.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  annotate(\n    geom = \"label\", x = 3.5, y = 38,\n    label = \"Increasing engine size is \\nrelated to decreasing fuel economy.\",\n    hjust = \"left\", color = \"red\"\n  ) +\n  annotate(\n    geom = \"segment\",\n    x = 3, y = 35, xend = 5, yend = 25, color = \"blue\",\n    arrow = arrow(type = \"closed\")\n  )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\n3.How do labels with [`geom_text()`](https://ggplot2.tidyverse.org/reference/geom_text.html) interact with faceting? How can you add a label to a single facet? How can you put a different label in each facet? (Hint: Think about the underlying data.)\n\ngeom text puts a label at each point on every facet.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  facet_grid(vars(drv)) +\n  geom_text(label = \"a\", nudge_y = 6)\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(alpha = 0.1) +\n  facet_wrap(~drv) +\n  geom_text(data = mpg |> filter(drv == \"f\"), aes(label = drv), nudge_x = 1)\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-26-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(alpha = 0.1) +\n  facet_wrap(~drv) +\n  geom_text(data = mpg |> filter(drv == \"f\"), aes(label = drv), nudge_x = 1) +\n   geom_text(data = mpg |> filter(drv == \"4\"), aes(label = drv), nudge_x = 1) +\n   geom_text(data = mpg |> filter(drv == \"r\"), aes(label = drv), nudge_x = 1)\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-26-3.png){width=672}\n:::\n:::\n\n\n4.What arguments to [`geom_label()`](https://ggplot2.tidyverse.org/reference/geom_text.html) control the appearance of the background box?\n\n5.What are the four arguments to [`arrow()`](https://rdrr.io/r/grid/arrow.html)? How do they work? Create a series of plots that demonstrate the most important options.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  annotate(\n    geom = \"label\", x = 3.5, y = 38,\n    label = \"Increasing engine size is \\nrelated to decreasing fuel economy.\",\n    hjust = \"left\", color = \"red\"\n  ) +\n  annotate(\n    geom = \"segment\",\n    x = 3, y = 35, xend = 5, yend = 25, color = \"blue\",\n    arrow = arrow(type = \"closed\")\n  )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  annotate(\n    geom = \"label\", x = 3.5, y = 38,\n    label = \"Increasing engine size is \\nrelated to decreasing fuel economy.\",\n    hjust = \"left\", color = \"red\"\n  ) +\n  annotate(\n    geom = \"segment\",\n    x = 3, y = 35, xend = 5, yend = 25, color = \"blue\",\n    arrow = arrow(type = \"open\")\n  )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  annotate(\n    geom = \"label\", x = 3.5, y = 38,\n    label = \"Increasing engine size is \\nrelated to decreasing fuel economy.\",\n    hjust = \"left\", color = \"red\"\n  ) +\n  annotate(\n    geom = \"segment\",\n    x = 3, y = 35, xend = 5, yend = 25, color = \"blue\",\n    arrow = arrow(ends = \"first\",type = \"closed\")\n  )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-29-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  annotate(\n    geom = \"label\", x = 3.5, y = 38,\n    label = \"Increasing engine size is \\nrelated to decreasing fuel economy.\",\n    hjust = \"left\", color = \"red\"\n  ) +\n  annotate(\n    geom = \"segment\",\n    x = 3, y = 35, xend = 5, yend = 25, color = \"blue\",\n    arrow = arrow(length = unit(0.70, \"inches\"),type = \"closed\")\n  )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-30-1.png){width=672}\n:::\n:::\n\n\n## Exercises 12.4.6\n\n1.Why doesn't the following code override the default scale?\n\nbecause geom hex already fills this in you could use scale_fill instead\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- tibble(\n  x = rnorm(10000),\n  y = rnorm(10000)\n)\n\nggplot(df, aes(x, y)) +\n  geom_hex() +\n  scale_color_gradient(low = \"black\", high = \"red\") +\n  coord_fixed()\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-31-1.png){width=672}\n:::\n:::\n\n\n2.What is the first argument to every scale? How does it compare to [`labs()`](https://ggplot2.tidyverse.org/reference/labs.html)?\n\nname or palette ,you can label your x and y axis with scale_x\\_continous and also labs\n\n3.Change the display of the presidential terms by:\n\na.  Combining the two variants that customize colors and x axis breaks.\n\nb.  Improving the display of the y axis.\n\nc.  Labelling each term with the name of the president.\n\nd.  Adding informative plot labels.\n\ne.  Placing breaks every 4 years (this is trickier than it seems!).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(lubridate)\npresidential |>\n  mutate(id = 33 + row_number()) |>\n  ggplot(aes(x = start, y = id, color = party)) +\n  geom_point() +\n  geom_segment(aes(xend = end, yend = id)) +\n  scale_color_manual(values = c(Republican = \"#E81B23\", Democratic = \"#00AEF3\")) +\n    scale_x_date(name = \"Term\", breaks = seq(from = ymd(\"1953-01-20\"), to = ymd(\"2021-01-20\"), by = \"4 years\"), date_labels = \"'%y\") +\nscale_y_continuous(\n  name = \"president\",\n  breaks = 34:45,\n  labels = presidential$name\n)\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-32-1.png){width=672}\n:::\n:::\n\n\n4\\.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(diamonds, aes(x = carat, y = price)) +\n  geom_point(aes(color = cut), alpha = 1/20) +\n    guides(color = guide_legend(override.aes = list(alpha = 1) ) )\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-33-1.png){width=672}\n:::\n:::\n\n\n## Exercises 12.5.1\n\n1.Pick a theme offered by the ggthemes package and apply it to the last plot you made.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n library(ggthemes)\nggplot(diamonds, aes(x = carat, y = price)) +\n  geom_point(aes(color = cut), alpha = 1/20) +\n    guides(color = guide_legend(override.aes = list(alpha = 1) ) ) +\n  theme_economist()\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-34-1.png){width=672}\n:::\n:::\n\n\n2.Make the axis labels of your plot blue and bolded\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() + \nxlab(substitute(paste(bold(\"something\")))) +\n  ylab(substitute(paste(bold(\"something\"))))\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-35-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  theme(axis.title = element_text(color = \"blue\",face = \"bold\"))\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-35-2.png){width=672}\n:::\n:::\n\n\n## Exercises 12.6.1\n\n1\\. What happens if you omit the parentheses in the following plot layout. Can you explain why this happens?\n\nit looks like it turns the plots like vertical if that makes sense\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- ggplot(mpg, aes(x = displ, y = hwy)) + \n  geom_point() + \n  labs(title = \"Plot 1\")\np2 <- ggplot(mpg, aes(x = drv, y = hwy)) + \n  geom_boxplot() + \n  labs(title = \"Plot 2\")\np3 <- ggplot(mpg, aes(x = cty, y = hwy)) + \n  geom_point() + \n  labs(title = \"Plot 3\")\n\n(p1 | p2) / p3\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-36-1.png){width=672}\n:::\n:::\n\n\n2.Using the three plots from the previous exercise, recreate the following patchwork.\n\n\n::: {.cell}\n\n```{.r .cell-code}\np3 / (p2 | p1)\n```\n\n::: {.cell-output-display}\n![](chapter-12_files/figure-html/unnamed-chunk-37-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "chapter-12_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}